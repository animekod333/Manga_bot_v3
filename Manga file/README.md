# AniMangaBot

Telegram –±–æ—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –º–∞–Ω–≥–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –±—ã–ª —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞:

```
.
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îú‚îÄ‚îÄ models.py              # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îú‚îÄ‚îÄ data_manager.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ (–∑–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ JSON)
‚îú‚îÄ‚îÄ vip_manager.py         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VIP-–ø–æ–¥–ø–∏—Å–∫–∞–º–∏
‚îú‚îÄ‚îÄ cache_manager.py       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º
‚îú‚îÄ‚îÄ subscription.py        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã
‚îú‚îÄ‚îÄ api_client.py          # API –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞–Ω–≥–∏
‚îú‚îÄ‚îÄ keyboards.py           # –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
‚îú‚îÄ‚îÄ utils.py               # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ handlers/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main_handlers.py    # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ —Å—Ç–∞—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ manga_handlers.py   # –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞–Ω–≥–∏ –∏ –≥–ª–∞–≤
‚îÇ   ‚îú‚îÄ‚îÄ premium_handlers.py # Premium —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–ª–∞—Ç–µ–∂–∏
‚îÇ   ‚îú‚îÄ‚îÄ settings_handlers.py # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ search_handlers.py  # –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∂–∞–Ω—Ä–∞–º
‚îÇ   ‚îî‚îÄ‚îÄ admin_handlers.py   # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îî‚îÄ‚îÄ manga (3).py          # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ `config.py`

3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ú–∏–≥—Ä–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
python migrate_data.py
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```bash
python main.py
```

## –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –∏ –∑–∞—â–∏—Ç—ã –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫:

- üì¶ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (SQLite) - –∫—ç—à –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –º–∞–Ω–≥–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
- üì§ **Telegram-–∫–∞–Ω–∞–ª** - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ PDF —Ñ–∞–π–ª–æ–≤
- üîÑ **–£–º–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä—ã** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ 429/403
- üõ°Ô∏è **User-Agent rotation** - –∑–∞—â–∏—Ç–∞ –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**: –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –Ω–∞ 80-90%, –∑–∞—â–∏—Ç–∞ –æ—Ç –±–∞–Ω–æ–≤, –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥–ª–∞–≤.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [CACHING_ARCHITECTURE.md](CACHING_ARCHITECTURE.md)

## –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

### config.py
–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
- –¢–æ–∫–µ–Ω –±–æ—Ç–∞
- URL API
- –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤
- –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –¥–∞–Ω–Ω—ã—Ö
- –ü–ª–∞–Ω—ã VIP-–ø–æ–¥–ø–∏—Å–∫–∏
- –ñ–∞–Ω—Ä—ã –∏ —Ç–∏–ø—ã –º–∞–Ω–≥–∏

### models.py
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è FSM –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –±–æ—Ç—É.

### data_manager.py
–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON —Ñ–∞–π–ª–∞–º–∏:
- –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω—ã–º
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### vip_manager.py
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VIP-–¥–æ—Å—Ç—É–ø–æ–º:
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ VIP
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏

### cache_manager.py
–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≥–ª–∞–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

### subscription.py
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã.

### api_client.py
–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å API –º–∞–Ω–≥–∏:
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–∞–Ω–≥–∏
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞–Ω–≥–µ
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–ª–∞–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Telegraph

### keyboards.py
–°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä –¥–ª—è –±–æ—Ç–∞.

### handlers/
–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- **main_handlers**: –∫–æ–º–∞–Ω–¥–∞ /start, –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- **manga_handlers**: –≤—ã–±–æ—Ä –º–∞–Ω–≥–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä –≥–ª–∞–≤, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
- **premium_handlers**: –ø–æ–∫—É–ø–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Premium
- **settings_handlers**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VIP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **search_handlers**: –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –∂–∞–Ω—Ä–∞–º
- **admin_handlers**: –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å, —Ä–∞—Å—Å—ã–ª–∫–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏

## –§—É–Ω–∫—Ü–∏–∏

### –î–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- üîç –ü–æ–∏—Å–∫ –º–∞–Ω–≥–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- üìã –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∂–∞–Ω—Ä–∞–º –∏ —Ç–∏–ø–∞–º
- üíì –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- üöÄ –¢–æ–ø —Ä–µ–π—Ç–∏–Ω–≥–∞
- üì• –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–ª–∞–≤ –≤ PDF

### –î–ª—è VIP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚ö° –ü–∞–∫–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤
- üîÑ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –≥–ª–∞–≤–∞–º–∏
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥–ª–∞–≤ –≤ –ø–∞–∫–µ—Ç–µ
- üì± –ß—Ç–µ–Ω–∏–µ –≤ Telegraph (–±–µ–∑ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è)

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤:
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üì¢ –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞
- ‚ûï‚ûñ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏
